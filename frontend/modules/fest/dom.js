import{isArrayOrIterable as e,cvt_cs_to_os as t,camelToKebab as n,hasValue as i,tryStringAsNumber as a,normalizePrimitive as r,$avoidTrigger as s,kebabToCamel as o,isVal as l,isValueUnit as c}from"./core.js";[{name:"--screen-width",syntax:"<length-percentage>",inherits:!0,initialValue:"0px"},{name:"--screen-height",syntax:"<length-percentage>",inherits:!0,initialValue:"0px"},{name:"--visual-width",syntax:"<length-percentage>",inherits:!0,initialValue:"0px"},{name:"--visual-height",syntax:"<length-percentage>",inherits:!0,initialValue:"0px"},{name:"--clip-ampl",syntax:"<number>",inherits:!0,initialValue:"0"},{name:"--clip-freq",syntax:"<number>",inherits:!0,initialValue:"0"},{name:"--avail-width",syntax:"<length-percentage>",inherits:!0,initialValue:"0px"},{name:"--avail-height",syntax:"<length-percentage>",inherits:!0,initialValue:"0px"},{name:"--pixel-ratio",syntax:"<number>",inherits:!0,initialValue:"1"},{name:"--percent",syntax:"<number>",inherits:!0,initialValue:"0"},{name:"--percent-x",syntax:"<number>",inherits:!0,initialValue:"0"},{name:"--percent-y",syntax:"<number>",inherits:!0,initialValue:"0"},{name:"--scroll-left",syntax:"<number>",inherits:!0,initialValue:"0"},{name:"--scroll-top",syntax:"<number>",inherits:!0,initialValue:"0"},{name:"--drag-x",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--drag-y",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--resize-x",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--resize-y",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--shift-x",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--shift-y",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cs-grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cs-grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cs-p-grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cs-p-grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--os-grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--os-grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--rv-grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--rv-grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cell-x",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cell-y",syntax:"<number>",inherits:!1,initialValue:"0"}].forEach(e=>{if("undefined"!=typeof CSS)try{CSS?.registerProperty?.(e)}catch(t){console.warn(t)}});const d=()=>{let e=navigator?.userAgentData?.mobile||!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},u=()=>{const e={canceled:!1,rAFs:/* @__PURE__ */new Set,last:null,cancel(){return this.canceled=!0,cancelAnimationFrame(this.last),this},shedule(e){return this.rAFs.add(e),this}};return(async()=>{for(;!e?.canceled;)await Promise.all((e?.rAFs?.values?.()??[])?.map?.(e=>Promise.try(e)?.catch?.(console.warn.bind(console)))),e.rAFs?.clear?.(),"undefined"!=typeof requestAnimationFrame?await new Promise(t=>{e.last=requestAnimationFrame(t)}):await new Promise(e=>{setTimeout(e,16)})})(),e},h=(e=u())=>t=>e.shedule(t),m="undefined"!=typeof document?document?.documentElement:null,p=(e,t={})=>{if(t&&"object"==typeof t&&e)return Array.from(Object.entries(t)).map(([t,n])=>{const i=e.getAttribute(t);null==n?e.removeAttribute(t):n!=i&&e.setAttribute(t,""==i?n??i:i??n)})},f=/* @__PURE__ */new Map,g=(e,t=1e3,...n)=>{const i={running:!0,cancel:()=>{i.running=!1}};return requestIdleCallback(async()=>{if(e&&"function"==typeof e){for(;i.running;)await(Promise.all([Promise.try(e,...n),new Promise(e=>setTimeout(e,t))]).catch?.(console.warn.bind(console))),await Promise.any([new Promise(e=>requestIdleCallback(e,{timeout:t})),new Promise(e=>setTimeout(e,t))]);i.cancel=()=>{}}},{timeout:t}),i?.cancel};"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(async()=>{for(;;)f.forEach(e=>e?.()),await new Promise(e=>requestAnimationFrame(e))});const y=Symbol("@border-box-width"),b=Symbol("@border-box-height"),v=Symbol("@content-box-width"),w=Symbol("@content-box-height"),x=/* @__PURE__ */new WeakMap,S=/* @__PURE__ */new WeakMap,E=(e,t=()=>{})=>{if(e instanceof HTMLElement&&!S.has(e)){e[v]=e.clientWidth,e[w]=e.clientHeight;const n=new ResizeObserver(n=>{for(const i of n)if(i.contentBoxSize){const n=i.contentBoxSize[0];n&&(e[v]=Math.min(n.inlineSize,e.clientWidth),e[w]=Math.min(n.blockSize,e.clientHeight),t?.(e))}});S.set(e,n),n.observe(e?.element??e,{box:"content-box"})}},M=(e,t=()=>{})=>{if(e instanceof HTMLElement&&!x.has(e)){e[y]=e.offsetWidth,e[b]=e.offsetHeight;const n=new ResizeObserver(n=>{for(const i of n)if(i.borderBoxSize){const n=i.borderBoxSize[0];n&&(e[y]=Math.min(n.inlineSize,e.offsetWidth),e[b]=Math.min(n.blockSize,e.offsetHeight),t?.(e))}});x.set(e,n),n.observe(e?.element??e,{box:"border-box"})}},A=(e,t,n)=>{null!=t&&e.checked!=t&&("checkbox"==e?.type||"radio"==e?.type&&!e?.checked?(e?.click?.(),n?.preventDefault?.()):(e.checked=!!t,e?.dispatchEvent?.(new Event("change",{bubbles:!0,cancelable:!0}))))},k=e=>null!=e&&e instanceof HTMLElement&&!(e instanceof DocumentFragment||e instanceof HTMLBodyElement)?e:null,L=(e,t)=>null==e||null==t?-1:Array.from(e?.childNodes??[])?.indexOf?.(t)??-1,R="(-?[_a-zA-Z]+[_a-zA-Z0-9-]*)",P="^(?:"+R+")|^#"+R+"|^\\."+R+"|^\\["+R+"(?:([*$|~^]?=)([\"'])((?:(?=(\\\\?))\\8.)*?)\\6)?\\]",V=e=>{if(":fragment:"==e)return document.createDocumentFragment();const t=document.createElement.bind(document);for(var n,i=t("div"),a="";e&&(n=e.match(P));)n[1]&&(i=t(n[1])),n[2]&&(i.id=n[2]),n[3]&&(a+=" "+n[3]),n[4]&&i.setAttribute(n[4],n[7]||""),e=e.slice(n[0].length);return a&&(i.className=a.slice(1)),i},C=e=>null!=e&&(e instanceof Node||e instanceof Text||e instanceof Element||e instanceof Comment||e instanceof HTMLElement||e instanceof DocumentFragment)?e:null,z=(e,t)=>{for(;e;){if(!(e?.element??e))return!1;if((e?.element??e)===(t?.element??t))return!0;e=e.parentElement??(e.parentNode==e?.getRootNode?.({composed:!0})?e?.getRootNode?.({composed:!0})?.host:e?.parentNode)}},W={};function N(e,t,n,i=W){e?.addEventListener?.(t,n,i);const a="object"==typeof e||"function"==typeof e&&!e?.deref?new WeakRef(e):e;return()=>a?.deref?.()?.removeEventListener?.(t,n,i)}function H(e,t,n,i=W){e?.removeEventListener?.(t,n,i)}const q=(e,t)=>(e=e instanceof WeakRef?e.deref():e,[...Object.entries(t)]?.map?.(([t,n])=>Array.isArray(n)?N(e,t,...n):N(e,t,n))),O=(t,n)=>{if(n){let i=n;return i=n instanceof Map?[...n.entries()]:[...Object.entries(n)],i.map(([n,i])=>((e(i)?[...i]:i)??[])?.map?.(e=>N(t,n,e)))}},F=(e,t,n)=>{if(null==t||!(t instanceof Node)&&null==t?.element)return!1;if(e==t||(e?.element??e)==(t?.element??t))return!0;if(n?.composedPath&&"function"==typeof n.composedPath){const i=n.composedPath(),a=e?.element??e,r=t?.element??t;if(i.includes(a)&&i.includes(r)){const e=i.indexOf(a),t=i.indexOf(r);if(t>=0&&e>=0&&t<e)return!0}}return!(!e?.contains?.(t?.element??t)&&e?.getRootNode({composed:!0})?.host!=(t?.element??t))},T=(e,t,n)=>{if(n?.composedPath&&"function"==typeof n.composedPath){const e=n.composedPath();for(const n of e)if((n instanceof HTMLElement||n instanceof Element)&&n.matches?.(t))return n}const i=e?.matches?.(t)?e:null,a=(e?.getRootNode({composed:!0})??e?.parentElement?.getRootNode({composed:!0}))?.host,r=a?.matches?.(t)?a:null,s=e?.closest?.(t)??i?.closest?.(t)??r?.closest?.(t)??null;return i??s??r},j=(e,t,n="parent")=>{if(!e)return!1;if(e.checkVisibility&&!e.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}))return!1;if(!e.checkVisibility&&null===e.offsetParent&&"fixed"!==e.style.position)return!1;let i=document.activeElement;for(;i&&i.shadowRoot&&i.shadowRoot.activeElement;)i=i.shadowRoot.activeElement;const a=i===e||z(i,e),r=e.matches(":hover");if(!a&&!r&&!t)return!1;if(t){if("string"==typeof t){if("parent"===n)return!!T(e,t);{const n=a?i:e.querySelector(":hover")||e,r=!!T(n,t);return null!=e?.querySelector?.(t)||e?.matches?.(t)||r}}if(t instanceof HTMLElement)return"parent"===n?z(e,t)||!1:z(t,e)||!1}return!0},I=/* @__PURE__ */new WeakMap,$=(e=document.documentElement)=>(null!=e?.currentCSSZoom?1:((e=document.documentElement)=>I.getOrInsertComputed(e,()=>{const t=(e?.matches?.(".ui-orientbox")?e:null)||e?.closest?.(".ui-orientbox")||document.body;return t?.zoom?t?.zoom||1:e?.currentCSSZoom?e?.currentCSSZoom||1:void 0}))(e))||1,B=(e=document.documentElement)=>{const t=(e?.matches?.('[orient], [data-mixin="ui-orientbox"]')?e:null)||e?.closest?.('[orient], [data-mixin="ui-orientbox"]')||e;return t?.hasAttribute?.("orient")?parseInt(t?.getAttribute?.("orient")||"0")||0:t?.orient||0},U=(e,n=null)=>{const i=((e=document.documentElement)=>(e?.currentCSSZoom??1)||1)(e),a=e?.getBoundingClientRect?.(),r={left:a?.left/i,right:a?.right/i,top:a?.top/i,bottom:a?.bottom/i,width:a?.width/i,height:a?.height/i},s=n??(B(e)||0),o=[document.body.clientWidth/i,document.body.clientHeight/i],[l,c]=t([r.left,r.top],o,s),[d,u]=t([r.right,r.bottom],o,s),[h,m]=0==s||3==s?[l,d]:[d,l],[p,f]=0==s||1==s?[c,u]:[u,c],[g,y]=s%2?[r.height,r.width]:[r.width,r.height];return{left:h,top:p,right:m,bottom:f,width:g,height:y}},D=(e,t=null)=>(t??B(e))%2?e[b]??e?.clientHeight:e[y]??e?.clientWidth,Z=(e,t=null)=>(t??B(e))%2?e[y]??e?.clientWidth:e[b]??e?.clientHeight,_=(e,t=null)=>(t??B(e))%2?e[w]??e?.clientHeight:e[v]??e?.clientWidth,K=(e,t=null)=>(t??B(e))%2?e[v]??e?.clientWidth:e[w]??e?.clientHeight,G=()=>{const e="undefined"!=typeof matchMedia&&matchMedia("(orientation: landscape)")?.matches;if("undefined"!=typeof screen){const t=screen?.availWidth+"px",n=screen?.availHeight+"px";return{"--screen-width":Math.min(screen?.width,screen?.availWidth)+"px","--screen-height":Math.min(screen?.height,screen?.availHeight)+"px","--avail-width":e?n:t,"--avail-height":e?t:n,"--view-height":Math.min(screen?.availHeight,window?.innerHeight)+"px","--pixel-ratio":devicePixelRatio||1}}return{"--screen-width":"0px","--screen-height":"0px","--avail-width":"0px","--avail-height":"0px","--view-height":"0px","--pixel-ratio":1}},J=G(),Q={"portrait-primary":0,"landscape-primary":1,"portrait-secondary":2,"landscape-secondary":3},X=e=>{const t=document.documentElement;Object.assign(J,G()),Object.entries(J).forEach(([e,n])=>{const i=t?.style?.getPropertyValue(e);i&&i==n||t?.style?.setProperty?.(e,n||"","")}),document.documentElement.style.setProperty("--orientation-secondary",screen?.orientation?.type?.endsWith?.("secondary")?"1":"0")},Y=()=>{let e=screen.orientation.type;return window.matchMedia("((display-mode: fullscreen) or (display-mode: standalone) or (display-mode: window-controls-overlay))").matches||(matchMedia("(orientation: portrait)").matches?e=e.replace("landscape","portrait"):matchMedia("(orientation: landscape)").matches&&(e=e.replace("portrait","landscape"))),e},ee={passive:!0},te=e=>{let t=!1;const n=()=>{t||(requestAnimationFrame(()=>{e(),t=!1}),t=!0)},i=[];return i.push(N(navigator?.virtualKeyboard,"geometrychange",n,ee)),i.push(N(window?.visualViewport,"scroll",n,ee)),i.push(N(window?.visualViewport,"resize",n,ee)),i.push(N(screen?.orientation,"change",n)),i.push(N(window,"resize",n)),i.push(N(document?.documentElement,"fullscreenchange",n)),i.push(N(document,"DOMContentLoaded",n)),i.push(N(matchMedia("(orientation: portrait)"),"change",n)),n(),requestIdleCallback(n,{timeout:100}),()=>i.forEach(e=>e())};new OffscreenCanvas(1,1).getContext("2d");const ne=async e=>{const t=()=>{e?.hasAttribute?.("data-hidden")||(e?.removeAttribute?.("data-opacity-animation"),e?.dispatchEvent?.(new CustomEvent("u2-appear",{detail:{},bubbles:!0,cancelable:!0})))};if(!e?.hasAttribute?.("data-hidden")&&e?.dispatchEvent?.(new CustomEvent("u2-before-show",{detail:{},bubbles:!0,cancelable:!0})))if(matchMedia("(prefers-reduced-motion: reduce)").matches||e.hasAttribute("data-opacity-animation")||e.hasAttribute("data-instant")||null!=e?.getAttribute?.("data-hidden")||e.setAttribute("data-opacity-animation",""),e.hasAttribute("data-opacity-animation")&&null==e?.getAttribute?.("data-hidden")){const n=e.animate([{easing:"linear",offset:0,"--opacity":0,"--scale":.8,display:"none",pointerEvents:"none"},{easing:"linear",offset:.01,"--opacity":0,"--scale":.8,display:"none",pointerEvents:"none"},{easing:"linear",offset:1,"--opacity":1,"--scale":1,display:"revert-layer",pointerEvents:"revert-layer"}],{duration:d()?100:80,easing:"linear",delay:0});let i=!1;const a=()=>{i||(i=!0,r?.forEach?.(e=>e?.()),n.currentTime=1,n.finish(),t?.())},r=q(e,{"u2-before-hide":[a,{once:!0,passive:!0}],"u2-before-show":[a,{once:!0,passive:!0}]});await n.finished,a?.()}else{const{resolve:n,promise:i}=Promise.withResolvers(),a=requestAnimationFrame(n);let r=!1;const s=()=>{r||(r=!0,o?.forEach?.(e=>e?.()),cancelAnimationFrame(a),n(performance.now()),t?.())},o=q(e,{"u2-before-hide":[s,{once:!0,passive:!0}],"u2-before-show":[s,{once:!0,passive:!0}]});await i,s?.()}},ie=async e=>{const t=()=>{e?.hasAttribute?.("data-hidden")&&(e?.removeAttribute?.("data-opacity-animation"),e?.dispatchEvent?.(new CustomEvent("u2-hidden",{detail:{},bubbles:!0,cancelable:!0})))};if(e?.hasAttribute?.("data-hidden")&&e?.dispatchEvent?.(new CustomEvent("u2-before-hide",{detail:{},bubbles:!0,cancelable:!0})))if(matchMedia("(prefers-reduced-motion: reduce)").matches||e.hasAttribute("data-opacity-animation")||e.hasAttribute("data-instant")||e.setAttribute("data-opacity-animation",""),e.hasAttribute("data-opacity-animation")){const n=e.animate([{easing:"linear",offset:0,pointerEvents:"none"},{easing:"linear",offset:.99,"--opacity":0,"--scale":.8,pointerEvents:"none"},{easing:"linear",offset:1,"--opacity":0,"--scale":.8,display:"none",pointerEvents:"none"}],{duration:120,easing:"linear",delay:0});let i=!1;const a=()=>{i||(i=!0,r?.forEach?.(e=>e?.()),n.currentTime=1,n.finish(),t?.())},r=q(e,{"u2-before-show":[a,{once:!0,passive:!0}]});await n.finished,a?.()}else{const{resolve:n,promise:i}=Promise.withResolvers(),a=requestAnimationFrame(n);let r=!1;const s=()=>{r||(r=!0,o?.forEach?.(e=>e?.()),cancelAnimationFrame(a),n(performance.now()),t?.())},o=q(e,{"u2-before-hide":[s,{once:!0,passive:!0}],"u2-before-show":[s,{once:!0,passive:!0}]});await i,s?.()}},ae=e=>("object"==typeof e?.current&&(e=e?.element??e?.current??("object"==typeof e?.self?e?.self:null)??e),e),re=(e,t,n)=>{if("string"==typeof e?.selector)return se(e,e?.selector,t,n);const i=new Set((t.split(",")||[t]).map(e=>e.trim())),a=new MutationObserver((e,t)=>{for(const a of e)a.attributeName&&i.has(a.attributeName)&&n(a,t)});return(e?.element??e)instanceof Node&&a.observe(e=ae(e),{attributes:!0,attributeOldValue:!0,attributeFilter:[...i]}),i.forEach(t=>n({target:e,type:"attributes",attributeName:t,oldValue:e?.getAttribute?.(t)},a)),a},se=(e,t,n,i)=>{const a=new Set([...n.split(",")||[n]].map(e=>e.trim())),r=new MutationObserver((e,n)=>{for(const r of e)if("childList"==r.type){const e=Array.from(r.addedNodes)||[],s=Array.from(r.removedNodes)||[];e.push(...Array.from(r.addedNodes||[]).flatMap(e=>Array.from(e?.querySelectorAll?.(t)||[]))),s.push(...Array.from(r.removedNodes||[]).flatMap(e=>Array.from(e?.querySelectorAll?.(t)||[]))),[...new Set(e)]?.filter(e=>e?.matches?.(t))?.map?.(e=>{a.forEach(t=>{i({target:e,type:"attributes",attributeName:t,oldValue:e?.getAttribute?.(t)},n)})})}else r.target?.matches?.(t)&&r.attributeName&&a.has(r.attributeName)&&i(r,n)});return r.observe(e=ae(e),{attributeOldValue:!0,attributes:!0,attributeFilter:[...a],childList:!0,subtree:!0,characterData:!0}),[...e.querySelectorAll(t)].map(e=>a.forEach(t=>i({target:e,type:"attributes",attributeName:t,oldValue:e?.getAttribute?.(t)},r))),r},oe=(e,t="*",n=(e,t)=>{})=>{const i=e=>{const n=Array.from(e||[])||[];return n.push(...Array.from(e||[]).flatMap(e=>Array.from(e?.querySelectorAll?.(t)||[]))),[...Array.from(new Set(n).values())].filter(e=>e?.matches?.(t))},a=e=>{const t=d?.deref?.(),a=i(e.addedNodes),r=i(e.removedNodes);(a.length>0||r.length>0)&&n?.({type:e.type,target:e.target,attributeName:e.attributeName,attributeNamespace:e.attributeNamespace,nextSibling:e.nextSibling,oldValue:e.oldValue,previousSibling:e.previousSibling,addedNodes:a,removedNodes:r},t)},r=e=>{a({addedNodes:[e?.target].filter(e=>!!e),removedNodes:[e?.relatedTarget].filter(e=>!!e),type:"childList",target:e?.currentTarget})},s=e=>{a({addedNodes:[e?.relatedTarget].filter(e=>!!e),removedNodes:[e?.target].filter(e=>!!e),type:"childList",target:e?.currentTarget})},o=e=>{a({addedNodes:[e?.target].filter(e=>!!e),removedNodes:[e?.relatedTarget||document?.activeElement].filter(e=>!!e),type:"childList",target:e?.currentTarget})},l={passive:!0,capture:!1};if(t?.includes?.(":hover")&&t?.includes?.(":active"))return e.addEventListener("pointerover",r,l),e.addEventListener("pointerout",s,l),e.addEventListener("pointerdown",r,l),e.addEventListener("pointerup",s,l),e.addEventListener("pointercancel",s,l),{disconnect:()=>{e.removeEventListener("pointerover",r,l),e.removeEventListener("pointerout",s,l),e.removeEventListener("pointerdown",r,l),e.removeEventListener("pointerup",s,l),e.removeEventListener("pointercancel",s,l)}};if(t?.includes?.(":hover"))return e.addEventListener("pointerover",r,l),e.addEventListener("pointerout",s,l),{disconnect:()=>{e.removeEventListener("pointerover",r,l),e.removeEventListener("pointerout",s,l)}};if(t?.includes?.(":active"))return e.addEventListener("pointerdown",r,l),e.addEventListener("pointerup",s,l),e.addEventListener("pointercancel",s,l),{disconnect:()=>{e.removeEventListener("pointerdown",r,l),e.removeEventListener("pointerup",s,l),e.removeEventListener("pointercancel",s,l)}};if(t?.includes?.(":focus")&&t?.includes?.(":focus-within")&&t?.includes?.(":focus-visible"))return e.addEventListener("focusin",r,l),e.addEventListener("focusout",s,l),e.addEventListener("click",o,l),{disconnect:()=>{e.removeEventListener("focusin",r,l),e.removeEventListener("focusout",s,l),e.removeEventListener("click",o,l)}};const c=new MutationObserver((e,t)=>{for(const n of e)"childList"==n.type&&a(n)}),d=new WeakRef(c);(e?.element??e)instanceof Node&&c.observe(e=ae(e),{childList:!0,subtree:!0});const u=Array.from(e.querySelectorAll(t));return u.length>0&&n?.({addedNodes:u},c),c},le=async(e=document.body)=>{se(e,"*","data-hidden",(e,t)=>{if("data-hidden"==e.attributeName){const n=e.target;n.getAttribute("data-hidden")!==e.oldValue&&Promise?.try?.(null!=n.getAttribute("data-hidden")?ie:ne,n,t)?.catch?.(console.warn.bind(console))}})},ce=/* @__PURE__ */new WeakMap,de=u(),ue=e=>e?.naturalWidth||e?.width||1,he=e=>e?.naturalHeight||e?.height||1,me=/* @__PURE__ */new WeakMap;let pe=null;pe="undefined"!=typeof HTMLCanvasElement?class extends HTMLCanvasElement{static observedAttributes=["data-src","data-orient"];ctx=null;image=null;#e=[1,1];#t="";#n="";get#i(){return parseInt(this.getAttribute("data-orient")||"0")||0}set#i(e){this.setAttribute("data-orient",e.toString())}attributeChangedCallback(e,t,n){"data-src"==e&&this.#a(n),"data-orient"==e&&this.#r(this.#n)}connectedCallback(){const e=this.parentNode;this.style.setProperty("max-inline-size","min(100%, min(100cqi, 100dvi))"),this.style.setProperty("max-block-size","min(100%, min(100cqb, 100dvb))"),this.#e=[Math.min(Math.min(Math.max(this.clientWidth||e?.clientWidth||1,1),e?.clientWidth||1)*(this.currentCSSZoom||1),screen?.width||1)*(devicePixelRatio||1),Math.min(Math.min(Math.max(this.clientHeight||e?.clientHeight||1,1),e?.clientHeight||1)*(this.currentCSSZoom||1),screen?.height||1)*(devicePixelRatio||1)],this.#a(this.#t=this.dataset.src||this.#t)}constructor(){super();const e=this,t=this.parentNode,n=()=>{const e=this.#e;this.#e=[Math.min(Math.min(Math.max(this.clientWidth||t?.clientWidth||1,1),t?.clientWidth||1)*(this.currentCSSZoom||1),screen?.width||1)*(devicePixelRatio||1),Math.min(Math.min(Math.max(this.clientHeight||t?.clientHeight||1,1),t?.clientHeight||1)*(this.currentCSSZoom||1),screen?.height||1)*(devicePixelRatio||1)],e?.[0]==this.#e[0]&&e?.[1]==this.#e[1]||this.#r(this.#n)};de?.shedule?.(()=>{this.ctx=e.getContext("2d",{alpha:!0,desynchronized:!0,powerPreference:"high-performance",preserveDrawingBuffer:!0}),this.inert=!0,this.style.objectFit="cover",this.style.objectPosition="center",this.classList.add("u-canvas"),this.classList.add("u2-canvas"),this.classList.add("ui-canvas"),this.style.setProperty("max-inline-size","min(100%, min(100cqi, 100dvi))"),this.style.setProperty("max-block-size","min(100%, min(100cqb, 100dvb))"),n(),new ResizeObserver(e=>{for(const t of e){const e=t?.devicePixelContentBoxSize?.[0];if(e){const t=this.#e;this.#e=[Math.max(e.inlineSize||this.width,1),Math.max(e.blockSize||this.height,1)],t?.[0]==this.#e[0]&&t?.[1]==this.#e[1]||this.#r(this.#n)}}}).observe(this,{box:"device-pixel-content-box"}),this.#a(this.#t=this.dataset.src||this.#t)})}async $useImageAsSource(e,t){t||=this.#t;const n=e instanceof ImageBitmap?e:await(e=>(!ce.has(e)&&(e instanceof Blob||e instanceof File||e instanceof OffscreenCanvas||e instanceof ImageBitmap||e instanceof Image)&&ce.set(e,createImageBitmap(e)),ce.get(e)))(e).catch(console.warn.bind(console));return n&&t==this.#t&&(this.image=n,this.#r(t)),e}$renderPass(e){const t=this,n=this.ctx,i=this.image;if(i&&n&&(e==this.#t||!e)){e&&(this.#n=e),this.width!=this.#e[0]&&(this.width=this.#e[0]),this.height!=this.#e[1]&&(this.height=this.#e[1]),this.style.aspectRatio=`${this.width||1} / ${this.height||1}`;const a=this.#i%2||0,r=ue(i)<=he(i)?1:0,s=Math.max(t[["height","width"][a]]/(r?he(i):ue(i)),t[["width","height"][a]]/(r?ue(i):he(i)));n.save(),n.clearRect(0,0,t.width,t.height),((e,t,n=1,i,a=0)=>{const r=e.canvas;e.translate(r.width/2,r.height/2),e.rotate((-a||0)*(.5*Math.PI)),e.rotate((1-i)*(Math.PI/2)),e.translate(-ue(t)/2*n,-he(t)/2*n)})(n,i,s,r,this.#i),n.drawImage(i,0,0,i.width*s,i.height*s),n.restore()}}#a(e){const t=e||this.#t;return this.#t=t,fetch(e,{cache:"force-cache",mode:"same-origin",priority:"high"})?.then?.(async e=>this.$useImageAsSource(await e.blob(),t)?.catch(console.warn.bind(console)))?.catch?.(console.warn.bind(console))}#r(e){var t,n;!this.image||!this.ctx||e!=this.#t&&e||de?.shedule?.((t=this.$renderPass,n=this,me?.getOrInsertComputed?.(t,()=>t?.bind?.(n))))}}:class{constructor(){}$renderPass(e){}$useImageAsSource(e,t){return e}#a(e){return Promise.resolve()}#r(e){}#i=0;#t="";#n="";#e=[1,1];ctx=null;image=null};try{customElements.define("ui-canvas",pe,{extends:"canvas"})}catch(mt){}const fe="DOM",ge="undefined"!=typeof document?document.createElement("style"):null;ge&&("undefined"!=typeof document&&document.querySelector("head")?.appendChild?.(ge),ge.dataset.owner=fe);const ye=(e,t,n="")=>{e[0][e[1]]="innerHTML"==e[1]?`@import url("${t}") ${n&&"string"==typeof n?`layer(${n})`:""};`:t},be="undefined"!=typeof CSSStyleValue&&"undefined"!=typeof CSSUnitValue,ve=e=>be&&e instanceof CSSStyleValue,we=e=>be&&e instanceof CSSUnitValue,xe=(e,t,n,i="")=>{e&&t&&(null!=n?e.getPropertyValue(t)!==n&&e.setProperty(t,n,i):""!==e.getPropertyValue(t)&&e.removeProperty(t))},Se=(e,t,r,s="")=>{if(!e||!t)return e;const o=n(t),l=e.style;if(!l)return e;let c=!i(r)||ve(r)||we(r)?r:r?.value;return"string"!=typeof c||ve(c)||(c=a(c)??c),null==c?(xe(l,o,null,s),e):(ve(c),xe(l,o,String(c),s),e)},Ee=(e,t)=>"function"==typeof e?.then?e?.then?.(t):t(e),Me=/* @__PURE__ */new WeakMap,Ae=/* @__PURE__ */new Map,ke=/* @__PURE__ */new Map,Le=/* @__PURE__ */new WeakMap,Re=/* @__PURE__ */new Map,Pe=/* @__PURE__ */new WeakMap,Ve=/* @__PURE__ */new Map,Ce=/* @__PURE__ */new WeakMap,ze=(e,t="ux-query",n=null)=>{if(!e)return null;const i=n instanceof ShadowRoot?n:n?.getRootNode?n.getRootNode({composed:!0}):null,a=i instanceof ShadowRoot,r=a?i.adoptedStyleSheets:"undefined"!=typeof document?document.adoptedStyleSheets:null;if(!r)return null;const s=`${t||""}:${e}`;let o;if(a){let e=Pe.get(i);e||(e=/* @__PURE__ */new Map,Pe.set(i,e)),o=e.get(s),o||(o=new CSSStyleSheet,e.set(s,o),r.includes(o)||r.push(o))}else o=Re.get(s),o||(o=new CSSStyleSheet,Re.set(s,o),r.includes(o)||r.push(o));if(t){let n;if(a){let e=Ce.get(i);e||(e=/* @__PURE__ */new Map,Ce.set(i,e)),n=e.get(t)}else n=Ve.get(t);if(!n){const e=Array.from(o.cssRules||[]),r=e.findIndex(e=>e instanceof CSSLayerBlockRule&&e.name===t);if(-1===r)try{o.insertRule(`@layer ${t} {}`,o.cssRules.length);const e=o.cssRules[o.cssRules.length-1];e instanceof CSSLayerBlockRule&&(n=e)}catch(mt){n=void 0}else n=e[r];if(n)if(a){let e=Ce.get(i);e||(e=/* @__PURE__ */new Map,Ce.set(i,e)),e.set(t,n)}else Ve.set(t,n)}if(n){let t=Array.from(n.cssRules||[]).findIndex(t=>t instanceof CSSStyleRule&&t.selectorText?.trim?.()===e?.trim?.());if(-1===t)try{t=n.insertRule(`${e} {}`,n.cssRules.length)}catch(mt){return null}return n.cssRules[t]}}let l=Array.from(o.cssRules||[]).findIndex(t=>t instanceof CSSStyleRule&&t.selectorText?.trim?.()===e?.trim?.());if(-1===l)try{l=o.insertRule(`${e} {}`,o.cssRules.length)}catch(mt){return null}const c=o.cssRules[l];return c instanceof CSSStyleRule?c:null},We=(e,t,r,s="")=>be?((e,t,r,s="")=>{if(!e||!t)return e;const o=n(t),l=e.style,c=e.attributeStyleMap??e.styleMap;if(!be||!c)return Se(e,t,r,s);let d=!i(r)||ve(r)||we(r)?r:r?.value;if(null==d)return c.delete?.(o),l&&xe(l,o,null,s),e;if(ve(d)){const t=c.get(o);if(we(d)&&we(t)){if(t.value===d.value&&t.unit===d.unit)return e}else if(t===d)return e;return c.set(o,d),e}if("number"==typeof d){if(CSS?.number&&!o.startsWith("--")){const t=CSS.number(d),n=c.get(o);return we(n)&&n.value===t.value&&n.unit===t.unit||c.set(o,t),e}return xe(l,o,String(d),s),e}if("string"==typeof d&&!ve(d)){const t=a(d);if("number"==typeof t&&CSS?.number&&!o.startsWith("--")){const n=CSS.number(t),i=c.get(o);return we(i)&&i.value===n.value&&i.unit===n.unit||c.set(o,n),e}return xe(l,o,d,s),e}return xe(l,o,String(d),s),e})(e,t,r,s):Se(e,t,r,s),Ne=(e,t,n="",i)=>{const a=(e=>{if(!e)return null;if(Ae.has(e))return Ae.get(e);if(e instanceof Blob||e instanceof File){if(Me.has(e))return Me.get(e);const t=URL.createObjectURL(e);return Me.set(e,t),Ae.set(t,t),t}if(URL.canParse(e)||e?.trim?.()?.startsWith?.("./")){const t=fetch(e?.replace?.("?url","?raw"),{cache:"force-cache",mode:"same-origin",priority:"high"})?.then?.(async t=>{const n=await t.blob(),i=URL.createObjectURL(n);return Me.set(n,i),Ae.set(e,i),Ae.set(i,i),i});return Ae.set(e,t),t}if("string"==typeof e){const t=new Blob([e],{type:"text/css"}),n=URL.createObjectURL(t);return Me.set(t,n),Ae.set(n,n),n}return e})(e),r="string"==typeof e&&URL.canParse(e)?e:a;return t?.[0]&&(t[0].fetchPriority="high"),t&&r&&"string"==typeof r&&ye(t,r,n),t?.[0]&&(!URL.canParse(e)||i)&&HTMLLinkElement,Ee(a,e=>{t?.[0]&&e&&(ye(t,e,n),t?.[0].setAttribute("loaded",""))})?.catch?.(e=>{console.warn("Failed to load style sheet:",e)})},He=(e,t=("undefined"!=typeof document?document?.head:null),n="")=>{const i=t?.querySelector?.("head")??t;if("undefined"!=typeof HTMLHeadElement&&i instanceof HTMLHeadElement)return(e=>{const t="undefined"!=typeof document?document.createElement("link"):null;return t&&(t.fetchPriority="high"),t?(Object.assign(t,{rel:"stylesheet",type:"text/css",crossOrigin:"same-origin"}),t.dataset.owner=fe,Ne(e,[t,"href"]),"undefined"!=typeof document&&document.head.append(t),t):null})(e);const a="undefined"!=typeof document?document.createElement("style"):null;return a?(a.dataset.owner=fe,Ne(e,[a,"innerHTML"],n),i?.prepend?.(a),a):null},qe=e=>Te(e,"ux-layer"),Oe=/* @__PURE__ */new Map,Fe=/* @__PURE__ */new WeakMap,Te=(e,t=null)=>{if("string"==typeof e&&Oe?.has?.(e))return Oe.get(e);if((e instanceof Blob||e instanceof File)&&Fe?.has?.(e))return Fe.get(e);if(!e)return null;const n="string"==typeof e?Oe.getOrInsertComputed(e,e=>new CSSStyleSheet):Fe.getOrInsertComputed(e,e=>new CSSStyleSheet);if(document.adoptedStyleSheets.push(n),"string"==typeof e&&!URL.canParse(e)){const i=t?`@layer ${t} { ${e} }`:e;return Oe.set(e,n),n.replaceSync(i),n}return Ee((e=>{if(!e)return"";if(ke.has(e))return ke.get(e)??"";if(e instanceof Blob||e instanceof File){if(Le.has(e))return Le.get(e)??"";const t=e?.text?.()?.then?.(t=>(Le.set(e,t),t));return Le.set(e,t),t}if(URL.canParse(e)||e?.trim?.()?.startsWith?.("./")){const t=fetch(e?.replace?.("?url","?raw"),{cache:"force-cache",mode:"same-origin",priority:"high"})?.then?.(async t=>{const n=await t.text();return ke.set(e,n),n});return ke.set(e,t),t}return"string"==typeof e?(ke.set(e,e),e):e})(e),e=>{if(Oe.set(e,n),e)return n.replaceSync(t?`@layer ${t} { ${e} }`:e),n}),n},je=(e,t)=>{if("computedStyleMap"in e){const n=e?.computedStyleMap?.()?.get(t);return n instanceof CSSUnitValue?n?.value||0:n?.toString?.()}if(e instanceof HTMLElement){const n=getComputedStyle?.(e,"");return parseFloat(n?.getPropertyValue?.(t)?.replace?.("px",""))||0}return parseFloat((e?.style??e).getPropertyValue?.(t)?.replace?.("px",""))||0},Ie=(e,t)=>"inline"==t?je(e,"padding-inline-start")+je(e,"padding-inline-end"):je(e,"padding-block-start")+je(e,"padding-block-end"),$e=/* @__PURE__ */new WeakMap,Be=(e,t)=>{if(e){if(t){const n=$e.getOrInsert(e,/* @__PURE__ */new Set);[...t?.values?.()||[]].map(t=>((e,t,n)=>(new WeakRef(e),t.has(n)||t.add(n),e))(e,n,t))}return e}},Ue=/* @__PURE__ */new Map,De=(e,t)=>{const n=[...e.entries()||[]];return new Map(n?.map?.(([e,n])=>[e,n?.get?.(t)])?.filter?.(([e,t])=>!!t)||[])},Ze=(e,t,n)=>{let i=Ue.get(t);return i||(i=/* @__PURE__ */new WeakMap,Ue.set(t,i)),i.has(e)||i.set(e,n),e},_e=(e,t)=>{if(e&&t){for(const[n,i]of t.entries())Ze(e,n,i);return e}},Ke=(e,t)=>{if(e){if(t){const n=Qe?.get?.(e)??/* @__PURE__ */new WeakSet;Qe?.has?.(e)||Qe?.set?.(e,n),[...t?.values?.()||[]].map(t=>Je(e,t,n))}return e}},Ge=e=>({storeSet:De(Ue,e),mixinSet:Qe?.get?.(e),behaviorSet:$e?.get?.(e)}),Je=(e,t,n)=>{const i=new WeakRef(e);return n||=Qe?.get?.(e),n?.has?.(t)||(n?.add?.(t),Xe?.get?.(t)?.add?.(e),t.name&&e?.setAttribute?.("data-mixin",[...e?.getAttribute?.("data-mixin")?.split?.(" ")||[],t.name].filter(e=>!!e).join(" ")),t?.connect?.(i,t,Ge(e))),e},Qe=/* @__PURE__ */new WeakMap,Xe=/* @__PURE__ */new WeakMap,Ye=/* @__PURE__ */new Map,et=/* @__PURE__ */new WeakMap,tt=(e,t)=>{"string"==typeof t&&(t=Ye?.get?.(t));const n=/* @__PURE__ */new Set([...e?.getAttribute?.("data-mixin")?.split?.(" ")||[]]),i=new Set([...n].map(e=>Ye?.get?.(e)).filter(e=>!!e)),a=Qe?.get?.(e)??/* @__PURE__ */new WeakSet;Xe?.has?.(t)||Xe?.set?.(t,/* @__PURE__ */new WeakSet),Qe?.has?.(e)||Qe?.set?.(e,a);const r=new WeakRef(e);a?.has?.(t)||(i.has(t)||t?.disconnect?.(r,t,Ge(e)),!i.has(t)&&Xe?.get?.(t)?.has?.(e)||(t?.connect?.(r,t,Ge(e)),n.add(et?.get?.(t)),a?.add?.(t),e?.setAttribute?.("data-mixin",[...n].filter(e=>!!e).join(" "))),Xe?.get?.(t)?.add?.(e)),a?.has?.(t)&&(i.has(t)||(a?.delete?.(t),t?.disconnect?.(r,t,Ge(e))))},nt=/* @__PURE__ */new Set,it=(e=("undefined"!=typeof document?document:null))=>{if(e)return nt?.has?.(e)||(nt?.add?.(e),se(e,"*","data-mixin",e=>at(e.target)),oe(e,"[data-mixin]",e=>{for(const t of e.addedNodes)t instanceof HTMLElement&&at(t)})),e},at=e=>{const t=/* @__PURE__ */new Set([...e?.getAttribute?.("data-mixin")?.split?.(" ")||[]]),n=new Set([...t].map(e=>Ye?.get?.(e)).filter(e=>!!e));[...n]?.map?.(t=>tt(e,t))},rt=(e,t)=>{e.forEach(e=>t?tt(e,t):at(e))},st=new FinalizationRegistry(e=>{Ye?.delete?.(e)});it("undefined"!=typeof document?document:null);class ot{constructor(e=null){e&&((e,t)=>{if(!et?.has?.(t)){const n=e?.trim?.();n&&(et?.set?.(t,n),Ye?.set?.(n,t),st?.register?.(t,n),(e=>{for(const t of nt)rt(t?.querySelectorAll?.("[data-mixin]"),e)})(t))}})(e,this)}connect(e,t,n){return this}disconnect(e,t,n){return this}storeForElement(e){return Ue.get(this.name||"")?.get?.(e)}relatedForElement(e){return Ge(e)}get elements(){return Xe?.get?.(this)}get storage(){return Ue?.get?.(this.name||"")}get name(){return et?.get?.(this)}}const lt=(e,t,n)=>{const a=n;i(n)&&(n=n.value);const o=null!=(n=r(n))&&!1!==n;return s(a,()=>{e instanceof HTMLInputElement?e.hidden=!o:o?e?.removeAttribute?.("data-hidden"):e?.setAttribute?.("data-hidden","")}),e},ct=(e,t,n)=>{if(!(t="string"==typeof t?o(t):t)||!e||-1!=["style","dataset","attributeStyleMap","styleMap","computedStyleMap"].indexOf(t||""))return e;const a=n;return i(n)&&(n=n.value),e?.[t]===n||e?.[t]!==n&&s(a,()=>{null!=n?e[t]=n:delete e[t]}),e},dt=(e,t,n)=>{const a=e?.dataset;if(!t||!e||!a)return e;const l=n;return i(n)&&(n=n?.value),t=o(t),a?.[t]===(n=r(n))||(null==n||!1===n?delete a[t]:s(l,()=>{"object"!=typeof n&&"function"!=typeof n?a[t]=String(n):delete a[t]})),e},ut=(e,t,a)=>{const r=e?.style;return t&&"string"==typeof t&&e&&r?(s(a,()=>{l(a)||i(a)||c(a)?We(e,t,a):null==a&&((e,t)=>{e.style.removeProperty(n(t))})(e,t)}),e):e},ht=(e,t,a)=>{if(!t||!e)return e;const o=a;return i(a)&&(a=a.value),t=n(t),e?.getAttribute?.(t)===(a=r(a))||s(o,()=>{"object"==typeof a||"function"==typeof a||null==a||"boolean"==typeof a&&1!=a?e?.removeAttribute?.(t):e?.setAttribute?.(t,String(a))}),e};export{Y as A,te as B,Ie as C,it as D,Te as E,p as F,q as G,E as H,M as I,H as J,z as K,_ as L,T as M,D as N,K as O,Z as P,h as Q,m as R,B as S,U as T,ot as U,$ as V,le as W,X,g as Y,ht as a,ut as b,N as c,ct as d,oe as e,se as f,ze as g,lt as h,j as i,F as j,A as k,He as l,dt as m,Ue as n,re as o,qe as p,k as q,L as r,We as s,C as t,Be as u,_e as v,Ke as w,O as x,V as y,Q as z};