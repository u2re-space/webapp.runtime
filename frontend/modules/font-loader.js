const t=/* @__PURE__ */new Map,e=/* @__PURE__ */new Map;async function n(n){const{base64:r,family:o,style:a="normal",weight:s="normal",compressed:i=!1}=n,c=`${o}-${a}-${s}`;if(e.has(c))return e.get(c);const f=function(t){if("function"==typeof Uint8Array.fromBase64)return Uint8Array.fromBase64(t);const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(r),l=i?await async function(t,e="gzip"){if("undefined"==typeof CompressionStream)throw new Error("Compression Streams API is not supported in this browser");const n=new DecompressionStream(e),r=n.writable.getWriter(),o=n.readable.getReader();r.write(t),r.close();const a=[];let s=!1;for(;!s;){const{value:t,done:e}=await o.read();s=e,t&&a.push(t)}const i=a.reduce((t,e)=>t+e.length,0),c=new Uint8Array(i);let f=0;for(const l of a)c.set(l,f),f+=l.length;return c}(f):f,u=i?"application/octet-stream":"font/woff2",w=await async function(e,n,r="font/woff2"){if(t.has(n))return t.get(n);const o=new Blob([e],{type:r}),a=URL.createObjectURL(o);return t.set(n,a),a}(l,c,u),p=new FontFace(o,`url(${w}) format('woff2')`,{style:a,weight:"string"==typeof s?s:`${s}`,display:"swap"});return await p.load(),document.fonts.add(p),e.set(c,p),p}async function r(t){const e=t.map(t=>n(t));return Promise.all(e)}let o=null;async function a(){return o||(o=import("./font-registry.js")?.catch?.(t=>{console.error("Failed to load font registry:",t)}),o)}async function s(){const t=await a();return r(Object.values(t.fontRegistry))}export{s as loadAllFonts,n as loadFont,a as loadFontRegistry,r as loadFonts};