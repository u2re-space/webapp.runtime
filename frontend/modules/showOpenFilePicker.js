const{showOpenFilePicker:e,showSaveFilePicker:t}=globalThis.showOpenFilePicker??"object"==typeof document?(()=>{const e=new WeakMap,t=FileSystemHandle.prototype,n=FileSystemFileHandle.prototype;document.createElement("a");const c=t=>{const n={getFile:async()=>t};return e.set(n,t),n},l=e=>o(Object(e?.accept)).join(","),{getOwnPropertyDescriptors:i,values:o}=Object,{name:s,kind:a,...r}=i(t),{getFile:p,...u}=i(n);return{showOpenFilePicker(e=null){const t=document.createElement("input");t.type="file",t.multiple=!!e?.multiple,t.accept=[].concat(e?.types??[]).map(l).join(",");const n=new Promise((e,n)=>{t.addEventListener("change",()=>{e([...t.files].map(c)),t.value=null,t.files=null},{once:!0}),t.addEventListener("cancel",()=>{n(new DOMException("The user aborted a request."))},{once:!0})});return t.click(),n},async showSaveFilePicker(e=null){const t=[].concat(Object.entries(Object([].concat(e?.types??[])[0]?.accept)))[0]||["text/plain",[".txt"]];return c(new File([],e?.suggestedName??"Untitled"+(t?.[1]?.[0]||".txt"),{type:t?.[0]||"text/plain"}))}}})():{showOpenFilePicker:async()=>[],showSaveFilePicker:async()=>[]};export{e as showOpenFilePicker,t as showSaveFilePicker};